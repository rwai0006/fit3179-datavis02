{
    "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
    "title": {"text":"Growth in search interest since 2015", "color":"white", "font":"formula1-regular"},
    "width": 700,
    "height": 400,
    "background": "transparent",
    "projection": {"type": "equalEarth"},

    "data": {
        "url": "data/ne_110m.topojson",
        "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}},
    
    "transform": [{
        "lookup": "properties.NAME",
        "from": {
            "data": {"url": "data/01_SearchInterest.csv"},
            "key": "Country",
            "fields": ["2025_Growth"]}
    }],

    "mark": {"type": "geoshape"},

    "encoding": {
        "color": {
            "field": "2025_Growth",
            "type": "quantitative",
            "scale": {
                "type": "threshold",
                "domain":[120,173,185,197,211],
                "range": ["#f7d5d4","#f2908c","#eb4d47","#e00700","#990500","#4d0300"]},
            "legend":{"orient":"bottom","labelOverlap":"greedy","gradientLength":500,"title":"Percentage growth since 2015 (%)", "titleColor":"white","titleFont":"formula1-regular","titleFontSize":8,"labelColor":"white", "labelFont":"titillium-regular"}
        },
            
        "tooltip": [
        {"field": "properties.NAME", "type": "nominal", "title": "Country"},
        {"field": "2025_Growth", "type": "quantitative", "title": "Growth"}]
        }
}